<!DOCTYPE html>
<html>
	<head>

			<meta http-equiv="X-UA-Compatible" content="IE=edge" />
			<meta charset="utf-8" />
			<!--[if lt IE 9]><script>document.createElement('header');document.createElement('nav');document.createElement('section');document.createElement('article');document.createElement('aside');document.createElement('footer');</script><![endif]-->
		<title>Twine</title><link rel="stylesheet" type="text/css" href="//bbcarchdev.github.io/painting-by-numbers/style.css"/><link rel="stylesheet" type="text/css" href="//bbcarchdev.github.io/painting-by-numbers/print.css" media="print"/><link rel="stylesheet" type="text/css" href="//cloud.typography.com/6699852/732262/css/fonts.css"/><link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Roboto:300,500,300italic,500italic|Inconsolata|Arapey"/><link rel="stylesheet" type="text/css" href="local.css"/><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1"/><!--[if lt IE 9]><link rel="stylesheet" type="text/css" href="//bbcarchdev.github.io/painting-by-numbers/ie78.css" /><![endif]-->
	</head>
<body class="book"><header><nav class="global"><div class="inner"><ul>
		<li class="logo"><a href="https://bbcarchdev.github.io/res/"><abbr title="Research &amp; Education Space">RES</abbr></a></li>
		<li><a href="https://bbcarchdev.github.io/res/education">Education</a></li>
		<li><a href="https://bbcarchdev.github.io/res/collections">Collections</a></li>
		<li><a href="https://bbcarchdev.github.io/res/products">Products</a></li>
		<li><a href="https://bbcarchdev.github.io/res/faq">FAQ</a></li>
	</ul></div></nav>
		<div class="masthead"></div>
		<h1>Twine</h1><h2>A linked data workflow engine</h2></header><section class="legalnotice">
	  <p>
		Copyright © 2017 BBC.
	  </p>
	  <p>Twine is licensed under the terms of the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a> and is available to browse or download via <a href="https://github.com/bbcarchdev/docbook-html5">GitHub</a>.</p>
	  <p>The text of this document is licensed under the terms of the <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/2/">Open Government Licence, v2.0</a>.</p>
	</section><section id="preface" class="preface"><h1>Preface</h1>
	
	<p>
	  Twine has been developed as part of the <i class="firstterm">Research &amp;
	  Education Space</i> (RES), a project being jointly delivered by
	  <a href="http://jisc.ac.uk">Jisc</a>, the
	  <a href="http://bufvc.ac.uk">British Universities Film &amp; Video Council</a> (BUFVC), and the <a href="http://www.bbc.co.uk/">BBC</a>.
	  Its aim is to bring as much as possible of the UK’s publicly-held archives, and more besides, to learners and teachers across the UK.
	</p>
	<p>
	  Twine has been released as open source software under the terms of the
	  <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache
	  License, 2.0</a>. You can browse and download the source from
	  the <a href="https://github.com/bbcarchdev/twine">Twine GitHub repository</a>.
	</p>
  </section><nav class="toc"><h1>Table of contents</h1><ol><li class="frontmatter"><a href="#preface">Preface</a></li><li><a href="#intro">Introduction</a></li><li><a href="#processors">Processor modules</a></li><li><a href="#bridges">Bridges</a></li><li><a href="#manpages">Manual pages</a></li></ol></nav><article>
  
  
  

  

  <section id="intro" class="section"><h1>Introduction</h1>
	
	<p>
	  Twine is a modular, queue-driven workflow engine for pushing RDF into
	  quad-stores for later serving as <i class="firstterm">Linked Open Data</i>
	  (LOD).
	</p>
	<p>
	  Twine consists of:
	</p>
	<ul>
	  <li>
		  A queue-driven daemon (<a href="twine-writerd.8.html"><kbd class="command">twine-writerd</kbd></a>).
		</li>
	  <li>
		  <i class="firstterm">Processor</i> modules which are loaded by the writer daemon.
		</li>
	  <li>
		  <i class="firstterm">Bridge</i> components which feed data into the queues.
		</li>
	</ul>
	<p>
	  The intention is that you will write your own processors and bridges to
	  support your particular application's needs.
	</p>
	<p>	  
	  Twine can use any
	  <a href="https://www.amqp.org/resources/specifications">AMQP 1.0-compliant</a>
	  message broker, and any
	  <a href="http://www.w3.org/TR/sparql11-overview/">SPARQL 1.1-compliant</a>
	  quad-store. In development, we use Apache <a href="http://qpid.apache.org">Qpid's</a> C++
	  broker and <a href="http://4store.org">4store</a>. Twine
	  uses the
	  <a href="http://qpid.apache.org/proton/">Apache Qpid Proton</a>
	  messaging libraries to speak to AMQP servers and
	  <a href="http://curl.haxx.se/libcurl/">libcurl</a>
	  to speak to quad-stores.
	</p>
	<p>
	  Twine is constructed with the assumption that the quad-store you use for
	  your RDF will contain one named graph per resource you intend to serve
	  to consuming applications. This means that retrieval can happen very
	  quickly and easily, but of course you can write processors which store
	  data in a different way if your prefer.
	</p>
  </section>
  
  <section id="processors" class="section"><h1>Processor modules</h1>
	
	<p>
	  The role of a processor module is to receive a chunk of arbitrary data
	  and transform or interpret it such that the quad-store can be updated.
	  A simple case might be parsing a JSON or XML blob, creating some triples
	  from that blob, and then performing an HTTP PUT into a particular named
	  graph.
	</p>
	<p>
	  Twine includes a simple processor module which can parse quads in either
	  N-Quads or TriG serialisations, and which are processed by iterating
	  each of the named graphs in them and pushing them into the quad-store.
	</p>
  </section>

  <section id="bridges" class="section"><h1>Bridges</h1>
	
	<p>
	  The role of a bridge is to obtain change data from some source and submit
	  those changes as messages on the queue that the writer daemon listens on.
	</p>
	<p>
	  A simple bridge,
	  <a href="twine-inject.8.html"><kbd class="command">twine-inject</kbd></a>,
	  is provided: this simply reads data from a file and submits it as a
	  message. You must specify the MIME type of the file on the command-line,
	  which must be a typed registered by a processor module loaded by the
	  writer daemon.
	</p>
	<p>
	  A more complex bridge might wait on a change-feed provided by another
	  system, receiving updates and continually submitting them to Twine for
	  processing.
	</p>
	<p>
	  The rationale for splitting the processors and bridges (despite many
	  applications having a need for them to be tightly-coupled) is:
	</p>
	<ol>
	  <li>
		  the processor may need to have more involved interaction with the
		  quad-store than a simple push/replace operation, which wouldn't be
		  appropriate for a bridge, as it shouldn't (and indeed may not be able
		  to) access the quad-store directly.
		</li>
	  <li>
		  it should be possible to push the same format of updates (i.e.,
		  content types) from multiple sources, resulting in consistent
		  processing regardless of where the message came from.
		</li>
	</ol>
  </section>
  
  <section id="manpages" class="section"><h1>Manual pages</h1>
	
	<dl>
		<dt><a href="twine-writerd.8"><kbd class="command">twine-writerd</kbd></a></dt>
		<dd>
			Twine writer daemon.
		  </dd>
	  
		<dt><a href="twine-inject.8"><kbd class="command">twine-inject</kbd></a></dt>
		<dd>
			Inject a file into the Twine processing queue.
		  </dd>
	  
		<dt><a href="twine.conf.5"><kbd class="command">twine.conf</kbd></a></dt>
		<dd>
			Twine configuration file.
		  </dd>
	  
		<dt><a href="libtwine.3">libtwine</a></dt>
		<dd>
			The API provided to loadable processor modules.
		  </dd>
	  </dl>
  </section>

</article></body>
</html>
